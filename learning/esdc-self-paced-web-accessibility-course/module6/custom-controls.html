<!DOCTYPE html>
<html class="no-js" lang="en" dir="ltr">
<head>
	<meta charset="utf-8">
	<!-- Web Experience Toolkit (WET) / Boîte à outils de l'expérience Web (BOEW) wet-boew.github.io/wet-boew/License-en.html / wet-boew.github.io/wet-boew/Licence-fr.html -->
	<title>Custom controls - Module 6 - Forms</title>
	<meta content="width=device-width,initial-scale=1" name="viewport">
	<!-- Meta data -->
	<meta name="description"
		content="Accessibility guidelines related to custom controls. This page provides a high-level overview of what to consider when developing custom form controls.">
		<!-- Meta data-->
	<!-- Load closure template scripts -->
	<script src="https://ssl-templates.services.gc.ca/rn/cls/wet/gcweb/cdts/compiled/soyutils.js"></script>
	<script src="https://ssl-templates.services.gc.ca/rn/cls/wet/gcweb/cdts/compiled/wet-en.js"></script>
	<!-- Write closure template -->
	<script src="../../../scripts/refTop.min.js"></script>
	<link rel="stylesheet" href="../../../css/a11y-dark.css">
	<script src="../../../scripts/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
	<link rel="stylesheet" href="../../../css/esdc-course.css">
</head>

<body vocab="https://schema.org/" typeof="WebPage">
	<div id="def-top">
	</div>
	<!-- Write closure template -->
    <script>
        var defTop = document.getElementById("def-top");
        defTop.outerHTML = wet.builder.appTop({
            "appName": [{
                "text": "ESDC / IT Accessibility office",
                "href": "../../../index.html"
            }],
           "breadcrumbs" : [{
                "title": "Home",
                "href" : "../../../index.html"
            },{
                "title": "Learning",
                "href" : "../../index.html"
            },
			{
                "title": "Web accessibility course",
                "href" : "../index.html"
            },
			{
                "title": "Module 6 - Forms",
                
                "href" : "index.html"
            },
          {
            "title": "Custom controls",
            
          }],
        "lngLinks": [
          {
            "lang": "fr",
            "href": "custom-controls-fr.html",
            "text": "Français",
          }],
        "menuPath": "../../../ajax/menu-en.html"
      });

    </script>
    <div class="container">
      <div class="row">
        <main class="col-md-9 col-md-push-3" property="mainContentOfPage">
          <h1 property="name" id="wb-cont">Custom controls</h1>
						
					<nav aria-labelledby="nav-table" class="mrgn-tp-md">
						<h2 id="nav-table" class="wb-inv">Table of contents</h2>
						<details class="mrgn-bttm-lg on" open="open">
							<summary class="bg-info">Table of contents</summary>
							<ul>
						<li>
							<a href="../module6/custom-controls.html#design">Designing custom controls</a>
						</li>
						<li>
							<a href="../module6/custom-controls.html#native-html">Whenever possible, use a native HTML form element rather than a custom control</a>
						</li>
						<li>
							<a href="../module6/custom-controls.html#model">Model the behaviour after native HTML form elements</a>
						</li>
						<li>
							<a href="../module6/custom-controls.html#aria">Add appropriate ARIA name, role, and values</a>
						</li>
						<li>
							<a href="../module6/custom-controls.html#communicate">Communicate updates and state changes via ARIA live messages when they can’t be communicated through HTML or ARIA methods</a>
						</li>
						<li>
							<a href="../module6/custom-controls.html#custom-share-button">Good example: A custom share button</a>
						</li>
						<li>
							<a href="../module6/custom-controls.html#resources1">Related WCAG resources</a>
						</li>
					</ul>
						</details>
					</nav>
		<button type="button" class="btn btn-default wb-toggle wb-init wb-toggle-inited" data-toggle="{&#x22;selector&#x22;: &#x22;.grouped&#x22;, &#x22;group&#x22;: &#x22;.grouped&#x22;, &#x22;type&#x22;: &#x22;on&#x22;}" aria-controls="details-1  details-2  details-3  details-4">Expand all details</button>
		<button type="button" class="btn btn-default wb-toggle wb-init wb-toggle-inited" aria-controls="details-1  details-2  details-3  details-4 " data-toggle="{&#x22;group&#x22;: &#x22;.grouped&#x22;, &#x22;type&#x22;: &#x22;off&#x22;}">	Collapse all<span class="wb-inv"> details</span></button>
			
			<section>				
				<h2 id="design">Designing custom controls</h2>
				<p>This section provides a high-level overview of what to consider when developing custom form controls. 
				The <a href="https://www.w3.org/TR/wai-aria-1.1/">ARIA specification</a> and 
				<a href="https://www.w3.org/WAI/ARIA/apg/">ARIA Authoring Practices Guide</a> explain how to use ARIA (Accessible Rich Internet Applications) to create custom widgets. The Authoring practices describe the expected keyboard and focus behaviour of widgets, along with examples and code.</p>
				<p>Please see <a href="../module12/introduction.html">module 12</a> for a discussion of custom JavaScript widgets.</p>
				<p>Follow these best practices for custom controls:</p>
				<ul>
					<li>Whenever possible, use native HTML form elements rather than custom controls.</li>
					<li>Model the behaviour after native HTML form elements.</li>
					<li>Add appropriate ARIA name, role, and values.</li>
					<li>Communicate updates and state changes via ARIA live messages when they can’t be communicated through HTML or ARIA methods</li>
				</ul>
			</section>
			
			<section>				
				<h2 id="native-html">Whenever possible, use a native HTML form element rather than a custom control</h2>
				<p>Standard HTML links and form controls need no custom JavaScript to work. They work out of the box, receiving focus and responding to keystrokes. Users understand these elements already, so there’s no need to provide instructions.</p>
			</section>
			
			<section>				
				<h2 id="model">Model the behaviour after native HTML form elements</h2>
				<p>If you’re building a custom version of a native form element, model it after the original element, including duplicating the expected keyboard behaviour (e.g., controls receive focus, buttons are triggered with either Space or Enter key, checkboxes are checked or unchecked using the Spacebar, radio buttons are selected with the Arrow key). </p>
				<p>If your form element needs to differ from native form elements, the native HTML form elements still model desirable keyboard behaviour. Ensure all buttons function with both the Enter key and Spacebar. Implement Arrow keys where users might expect to use them. See the keyboard interactions of the widget patterns and ARIA roles in the <a href="https://www.w3.org/WAI/ARIA/apg/">ARIA Authoring Practices Guide</a>. </p>
				<p>Think twice before building a custom control. It can be a lot of work, as detailed in the Mozilla Developer Network tutorial <a href="https://developer.mozilla.org/en-US/docs/Learn/Forms/How_to_build_custom_form_controls#making_it_accessible">How to build custom form controls</a>, which steps through building a custom <code>&lt;select&gt;</code> element.</p>
				
			</section>
			
			<section>				
				<h2 id="aria">Add appropriate ARIA name, role, and values</h2>
				<p>Screen reader users rely on a few key pieces of information to make sense of an interface. 
				<a href="https://www.w3.org/WAI/WCAG21/Understanding/name-role-value">WCAG Success Criterion 4.1.2: Name, Role, Value</a> spells them out:</p>
				<blockquote>
					<p>“For all user interface components (including but not limited to: form elements, links and components generated by scripts), the name and role can be programmatically determined; states, properties, and values that can be set by the user can be programmatically set; and notification of changes to these items is available to user agents, including assistive technologies.” </p>
				</blockquote>
				<dl>
				<dt>Name</dt>
				<dd class="mrgn-lft-lg">The name defines the element's label (e.g., "previous" or “next” or "register" or "Submit"). A custom control will often set the name via the <code>aria-label</code> or <code>aria-labelledby</code> attribute.</dd>
				<dt>Role</dt>
				<dd class="mrgn-lft-lg">The role defines what the widget is or does. The ARIA specification defines a <a href="https://www.w3.org/TR/wai-aria-1.1/#widget_roles">list of roles</a> to choose from, 
				such as "checkbox" or "radiogroup" or "slider" or "tab". </dd>
				<dt>Value</dt>
				<dd class="mrgn-lft-lg">The value, sometimes several values, defines dynamic “states” and static “properties” of the control:
					<dl class="mrgn-tp-md">
						<dt>States</dt>
						<dd class="mrgn-lft-lg">“States” are ARIA attributes with values the script updates in reaction to the user. Examples are <code>aria-selected="true"</code>, <code>aria-expanded="false"</code> and a slider’s percentage value.</dd>
						<dt>Properties</dt>
						<dd class="mrgn-lft-lg">“Properties” are ARIA attributes with values that tend not to change. Examples are <code>aria-labelledby</code> or <code>aria-describedby</code> or <code>aria-required</code>.</dd>
					</dl>
				</dd>
</dl>
			</section>
			
			<section>				
				<h2 id="communicate">Communicate updates and state changes via ARIA live messages when they can’t be communicated through HTML or ARIA methods</h2>
				<p>When the available HTML and ARIA states are insufficiently descriptive, add an ARIA live region to describe to screen reader users what’s going on. An ARIA live region can announce a custom value change such as “Table sorted by title, ascending” or “Results filtered by region” etc.</p>
				<div class="panel panel-success">
					<div class="panel-body">
					  <h2 class="text-success mrgn-tp-0 h3" id="custom-share-button"><span class="glyphicon glyphicon-ok-circle"></span>&nbsp; Good example: A custom share button</h2>
						<p>In this example, a social media "share button" has two functions: show how many people have already activated the button ("shared") and allow users to press the button to activate the share function.</p>
						<p>When the button is activated: </p>
						<ul>
							<li>The count increases by one.</li>
							<li>The accessible name changes from “3 shares” to “4 shared (check)”.</li>
							<li>The button takes the “disabled” attribute, preventing it from regaining focus.</li>
						</ul>
						<p>Also, the <code>action</code> attribute of the <code>&lt;form&gt;</code> element references a server-side script that 
						carries out the same functionality for cases when JavaScript is not supported.</p>

						<div class="panel panel-default well well-sm col-md-12">
						<p class="wb-inv">Example begins</p>
							<script>
							window.onload=function(){
								document.getElementById('share-btn').addEventListener('click', function(event){ 
									event.preventDefault(); 	
									event.stopImmediatePropagation();
									var count = this.querySelector('.count');
									var text = this.querySelector('.text');
									count.textContent = parseInt(count.textContent) + 1;
									text.textContent = "Shared ✓"; 
									this.setAttribute("disabled", "true"); 
								});
							}
							</script>
							
							<style>.btn-primary-custom { 
								 line-height: 1; 
								 float: none; 
								background: linear-gradient(to bottom, #004d99, #036); 
								color: #fff; 
								border-color: #001a33; 
								font-weight: normal; 
								font-size: 1em; 
								padding: .25em .5em; 
								border-width: 1px; 
								border-style: solid; 
								border-radius: .25em; 
								-webkit-appearance: button; 
								cursor: pointer; 
								text-transform: none; 
								font-family: inherit; 
								margin: 0; 
								} 
								#share-btn .count { 
								   background-color: #fff; 
								   color: #036; 
								   min-width: 1em; 
								   line-height: 1; 
								   display: inline-block; 
								   border-radius: 50px; 
								   border: 4px solid #fff; 
								   text-align: center; 
								} </style>
						<form  onsubmit="myFunction(); return false;">
							<button type="submit" id="share-btn" class="btn-primary-custom">
							<span class="count">3</span> 
							<span class="text">Shares</span>
							</button> 
							</form>
						</div>
						<p class="wb-inv">Example ends</p>
						<div class="clearfix"></div>		
								
					
<p class="lang-label small">HTML</p>
		<p class="wb-inv">Code begins</p>
<pre class="mrgn-tp-0"><code class="language-html">&lt;form action="path/to/submit"&gt;
   &lt;button type="submit" id="share-btn" class="btn-primary"&gt;
      &lt;span class="count"&gt;3&lt;/span&gt; 
      &lt;span class="text"&gt;Shares&lt;/span&gt;
   &lt;/button&gt; 
&lt;/form&gt;</code>
</pre>
							<p class="wb-inv">Code ends</p>
							<p class="lang-label small">JavaScript</p>
							<p class="wb-inv">Code begins</p>
<pre class="mrgn-tp-0"><code class="language-javascript">document.getElementById('share-btn').addEventListener('click', function(event){ 
   event.preventDefault();    
   event.stopImmediatePropagation();
   var count = this.querySelector('.count');
   var text = this.querySelector('.text');
   count.textContent = parseInt(count.textContent) + 1;
   text.textContent = "Shared ✓"; 
   this.setAttribute("disabled", "true"); 
});</code>
</pre>
<p class="wb-inv">Code ends</p>
							
							
				
					</div>
				</div>
				<hr/>
				<p class="small">Adapted from “Custom Form Inputs” in the module “Form Labels, Instructions, and Validation.” deque University. 2021 Deque Systems Inc.</p>
				<p class="small">Good example code from the Web Accessibility Initiative (<a href="https://www.w3.org/WAI/">WAI</a>) document: <a href="https://www.w3.org/WAI/tutorials/forms/custom-controls/">Custom Controls<span class="wb-inv"> (WAI)</span></a>, in <a href="https://www.w3.org/WAI/tutorials/forms/">Forms Concepts <span class="wb-inv"> (WAI)</span></a>. Eric Eggert and Shadi Abou-Zahra, eds. Copyright © 2019 <a href="http://www.w3.org/">W3C</a>® (<a href="http://www.csail.mit.edu/">MIT</a>, <a href="http://www.ercim.eu/">ERCIM</a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). Status: Draft Updated 27 July 2019.</p>
			</section>
			
			<section>				
				<h2 id="resources1" class="wb-inv">Related WCAG resources</h2>
				<details class="mrgn-tp-lg grouped on">
					<summary class="bg-info">Related WCAG resources</summary>
					<h3>Success criteria</h3>
					<ul>
						<li><a href="https://www.w3.org/WAI/WCAG21/Understanding/name-role-value">4.1.2: Name, Role, Value</a></li>
						<li><a href="https://www.w3.org/WAI/WCAG21/Understanding/status-messages">4.1.3: Status Messages</a></li>

					</ul>
					<h3>Techniques</h3>
					<ul>	
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/html/H91">H91: Using HTML form controls and links</a></li>	
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA4">ARIA4: Using a WAI-ARIA role to expose the role of a user interface component</a></li>	
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/aria/ARIA5">ARIA5: Using WAI-ARIA state and property attributes to expose the state of a user interface component</a></li>	
						
					</ul>
					<h3>Failures</h3>
					<ul>	
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/failures/F15">F15: Failure of Success Criterion 4.1.2 due to implementing custom controls that do not use an accessibility API for the technology, or do so incompletely</a></li>	
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/failures/F68">F68: Failure of Success Criterion 4.1.2 due to a user interface control not having a programmatically determined name</a></li>	
						<li><a href="https://www.w3.org/WAI/WCAG21/Techniques/failures/F79">F79: Failure of Success Criterion 4.1.2 due to the focus state of a user interface component not being programmatically determinable or no notification of change of focus state available</a></li>	
						
					</ul>
				</details>
			</section>
		
		
	<nav aria-labelledby="nav-pagination">
			<h2 id="nav-pagination" class="wb-inv">Pagination menu</h2>
		<ul class="pager">
			<li class="previous"><a rel="prev" href="multi-step-forms.html">Previous - Multi-step forms</a></li>
			<li class="next"><a rel="next" href="best-practice-mod-6.html">Next - Best practice</a></li>
		</ul>
	</nav>
	<a href="#wb-tphp" id="topBtn" class="btn btn-primary btn-xs topBtn"><span class="glyphicon glyphicon-arrow-up" aria-hidden="true"></span> Back to top</a>	 <script src="../../../scripts/esdc-course.js"></script></main>
			

	<nav id="wb-sec" class="wb-sec col-md-3 col-md-pull-9" typeof="SiteNavigationElement" aria-labelledby="wb-sec-h">	
		<h2 id="wb-sec-h" class="wb-inv">Section menu</h2>
			<section class="list-group menu list-unstyled">
				<h3 class="wb-navcurr">Module 6 - Forms</h3>
					<ul class="list-group menu list-unstyled">
												
						<li><a class="list-group-item" href="forms-concepts.html">Forms concepts</a></li>
						<li><a class="list-group-item" href="labelling-controls.html">Labelling controls</a></li>
						<li><a class="list-group-item" href="grouping-controls.html">Grouping controls</a></li>
						<li><a class="list-group-item" href="form-instructions.html">Form instructions</a></li>
						<li><a class="list-group-item" href="identifying-input.html">Identifying input purpose</a></li>
						<li><a class="list-group-item" href="validating-input.html">Validating input</a></li>
						<li><a class="list-group-item" href="user-notifications.html">User notifications</a></li>
						<li><a class="list-group-item" href="multi-step-forms.html">Multi-step forms</a></li>
						<li><a class="list-group-item active" aria-current="page" href="custom-controls.html">Custom controls</a></li>
						<li><a class="list-group-item" href="best-practice-mod-6.html">Best practice</a></li>
						
					</ul>
			</section>
						
			<section class="list-group menu list-unstyled">
				<h3 class="wb-navcurr">All modules</h3>
					<ul class="list-group menu list-unstyled">
						<li><a class="list-group-item" href="../module1/web-accessibility.html">Module 1 - Accessibility fundamentals</a></li>
						<li><a class="list-group-item" href="../module2/landmarks.html">Module 2 – Page structure and semantics</a></li>			
						<li><a class="list-group-item" href="../module3/links.html">Module 3 – Links and navigation</a></li>
						<li><a class="list-group-item" href="../module4/tables-concepts.html">Module 4 – Tables</a></li>
						<li><a class="list-group-item" href="../module5/text-alternatives.html">Module 5 – Images</a></li>
						<li><a class="list-group-item active" href="forms-concepts.html">Module 6 – Forms</a></li>	
						<li><a class="list-group-item" href="../module7/introduction.html">Module 7 – Visual design and colours</a></li>
						<li><a class="list-group-item" href="../module8/introduction.html">Module 8 – Zoom and responsive design</a></li>
						<li><a class="list-group-item" href="../module9/introduction.html">Module 9 - Audio, video, animation and motion</a></li>
						<li><a class="list-group-item" href="../module10/introduction.html">Module 10 - Input modalities</a></li>
						<li><a class="list-group-item" href="../module11/aria-live.html">Module 11 - ARIA live and time limits</a></li>
			</ul>

			</section>
			<section class="list-group menu list-unstyled">
				<h3 class="wb-navcurr">Appendix</h3>

				<ul class="list-group menu list-unstyled">
					<li>
						<a class="list-group-item" href="../sitemap/sitemap.html">Site map</a>
					</li>
					<li>
						<a class="list-group-item" href="../best-practice/all-best-practice.html">All best practices</a>
					</li>
					<li>
						<a class="list-group-item" href="../wcag/wcag-view.html">WCAG view</a>
					</li>
				</ul>
			</section>
	</nav>
</div>

<div id="def-preFooter2"></div>
		<script src="../../../scripts/preFooter2.min.js"></script>
<div id="def-preFooter"></div>
		<script src="../../../scripts/preFooter.min.js"></script>
		
</div>	
		
<div id="def-footer"></div>
	<script src="../../../scripts/appFooter.min.js"></script>
	<script src="../../../scripts/refFooter.min.js"></script>
	<script src="../../../scripts/bati-itao.min.js"></script>

</body>
</html>
